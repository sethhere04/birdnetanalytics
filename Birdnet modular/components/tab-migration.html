<!-- Migration Tab Content -->
<div class="section">
    <h2>🦅 Migration Tracking</h2>
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
        <div id="migration-analysis-summary">Analyzing migration patterns from your detections...</div>
        <button onclick="location.reload()" class="btn btn-primary">Refresh Analysis</button>
    </div>
    
    <!-- Migration Status Cards -->
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-bottom: 2rem;">
        <div style="background: #ecfdf5; padding: 1rem; border-radius: 8px; border-left: 4px solid #10b981;">
            <h3 style="margin: 0 0 0.5rem 0; font-size: 1rem; color: #065f46;">🛬 Arriving Species</h3>
            <div id="arriving-species-list" style="max-height: 200px; overflow-y: auto;">
                <p style="color: #6b7280; font-size: 0.875rem;">Loading...</p>
            </div>
        </div>
        
        <div style="background: #f0f9ff; padding: 1rem; border-radius: 8px; border-left: 4px solid #3b82f6;">
            <h3 style="margin: 0 0 0.5rem 0; font-size: 1rem; color: #1e40af;">✅ Present Species</h3>
            <div id="present-species-list" style="max-height: 200px; overflow-y: auto;">
                <p style="color: #6b7280; font-size: 0.875rem;">Loading...</p>
            </div>
        </div>
        
        <div style="background: #fef3c7; padding: 1rem; border-radius: 8px; border-left: 4px solid #f59e0b;">
            <h3 style="margin: 0 0 0.5rem 0; font-size: 1rem; color: #92400e;">🛫 Departing Species</h3>
            <div id="departing-species-list" style="max-height: 200px; overflow-y: auto;">
                <p style="color: #6b7280; font-size: 0.875rem;">Loading...</p>
            </div>
        </div>
        
        <div style="background: #f3f4f6; padding: 1rem; border-radius: 8px; border-left: 4px solid #6b7280;">
            <h3 style="margin: 0 0 0.5rem 0; font-size: 1rem; color: #374151;">🔮 Expected Species</h3>
            <div id="expected-species-list" style="max-height: 200px; overflow-y: auto;">
                <p style="color: #6b7280; font-size: 0.875rem;">Loading...</p>
            </div>
        </div>
    </div>
    
    <!-- Personal Migration Calendar -->
    <div id="personal-migration-content">
        <div class="loading-placeholder">Loading your personal migration calendar...</div>
    </div>
</div>

<!-- AI Migration Forecast -->
<div class="section">
    <h2>🤖 AI Migration Forecast</h2>
    
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
        <div style="font-size: 0.875rem; color: #6b7280;">
            AI-powered predictions based on weather patterns and historical data
        </div>
        <button id="ai-forecast-refresh" class="btn btn-primary" onclick="typeof updateAIMigrationForecast === 'function' && updateAIMigrationForecast()">
            🔄 Refresh Forecast
        </button>
    </div>
    
    <!-- Weather Summary -->
    <div id="weather-summary" style="margin-bottom: 1rem;">
        <div class="info-box info-box-info">Loading weather conditions...</div>
    </div>
    
    <!-- AI Forecast Info -->
    <div id="ai-forecast-info" style="margin-bottom: 1rem;">
        <div class="loading-placeholder">Loading AI predictions...</div>
    </div>
    
    <!-- AI Forecast Table -->
    <div style="overflow-x: auto; margin-bottom: 1rem;">
        <table id="ai-forecast-table" style="width: 100%; border-collapse: collapse; background: white;">
            <thead>
                <tr>
                    <th style="text-align: left; padding: 0.75rem; background: #f3f4f6; border: 1px solid #e5e7eb; font-weight: 600;">Species</th>
                    <th style="text-align: center; padding: 0.75rem; background: #f3f4f6; border: 1px solid #e5e7eb; font-weight: 600;">Probability</th>
                    <th style="text-align: center; padding: 0.75rem; background: #f3f4f6; border: 1px solid #e5e7eb; font-weight: 600;">Timeframe</th>
                    <th style="text-align: center; padding: 0.75rem; background: #f3f4f6; border: 1px solid #e5e7eb; font-weight: 600;">Conditions</th>
                </tr>
            </thead>
            <tbody>
                <tr><td colspan="4" class="loading-placeholder">Loading AI predictions...</td></tr>
            </tbody>
        </table>
    </div>
    
    <!-- Forecast Details Toggle -->
    <button id="ai-forecast-details-toggle" class="btn btn-secondary">
        📊 Show Detailed Analysis
    </button>
    
    <!-- Forecast Details (Hidden by default) -->
    <div id="ai-forecast-details" style="display: none; margin-top: 1rem; padding: 1rem; background: #f9fafb; border-radius: 8px;">
        <h3 style="margin: 0 0 1rem 0; font-size: 1rem;">Detailed Forecast Analysis</h3>
        <div style="margin-bottom: 1rem;">
            <canvas id="migration-probability-chart" style="max-height: 300px;"></canvas>
        </div>
        <div id="prediction-factors-list" style="margin-top: 1rem;">
            <!-- Prediction factors will be loaded here -->
        </div>
        <p style="color: #6b7280; font-size: 0.875rem; margin: 1rem 0 0 0;">
            AI predictions are based on current weather conditions, historical migration patterns, and species-specific behaviors.
        </p>
    </div>
</div>

<!-- Migration Map (if available) -->
<div class="section">
    <h2>🗺️ Migration Map</h2>
    <div id="migration-map-container" style="height: 400px; background: #f3f4f6; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #6b7280;">
        <div>
            <div style="font-size: 2rem; margin-bottom: 0.5rem;">🗺️</div>
            <div>Migration map visualization</div>
        </div>
    </div>
</div>